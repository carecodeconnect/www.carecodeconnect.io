<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Portfolio - MapMind (Part III): Digital Divides: Mindfulness Teaching &amp; Technology</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.27.0.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../testimonials.html" rel="" target="">
 <span class="menu-text">Testimonials</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary"><span class="header-section-number">1</span> Executive Summary</a></li>
  <li><a href="#data-science-tools" id="toc-data-science-tools" class="nav-link" data-scroll-target="#data-science-tools"><span class="header-section-number">2</span> Data Science Tools</a></li>
  <li><a href="#findings" id="toc-findings" class="nav-link" data-scroll-target="#findings"><span class="header-section-number">3</span> Findings</a>
  <ul class="collapse">
  <li><a href="#majority-start-to-teach-mindfulness-between-2012-2014" id="toc-majority-start-to-teach-mindfulness-between-2012-2014" class="nav-link" data-scroll-target="#majority-start-to-teach-mindfulness-between-2012-2014"><span class="header-section-number">3.1</span> Majority start to teach mindfulness between 2012-2014</a></li>
  <li><a href="#majority-use-technology-have-a-website-but-had-not-taught-online" id="toc-majority-use-technology-have-a-website-but-had-not-taught-online" class="nav-link" data-scroll-target="#majority-use-technology-have-a-website-but-had-not-taught-online"><span class="header-section-number">3.2</span> Majority use technology, have a website, but had not taught online</a></li>
  <li><a href="#what-factors-predict-mindfulness-teaching" id="toc-what-factors-predict-mindfulness-teaching" class="nav-link" data-scroll-target="#what-factors-predict-mindfulness-teaching"><span class="header-section-number">3.3</span> What factors predict mindfulness teaching?</a>
  <ul class="collapse">
  <li><a href="#predictors" id="toc-predictors" class="nav-link" data-scroll-target="#predictors"><span class="header-section-number">3.3.1</span> Predictors</a></li>
  <li><a href="#outcomes" id="toc-outcomes" class="nav-link" data-scroll-target="#outcomes"><span class="header-section-number">3.3.2</span> Outcomes</a></li>
  <li><a href="#significant-predictors-and-outcomes" id="toc-significant-predictors-and-outcomes" class="nav-link" data-scroll-target="#significant-predictors-and-outcomes"><span class="header-section-number">3.3.3</span> Significant Predictors and Outcomes</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#which-factors-most-influence-mindfulness-teaching" id="toc-which-factors-most-influence-mindfulness-teaching" class="nav-link" data-scroll-target="#which-factors-most-influence-mindfulness-teaching"><span class="header-section-number">4</span> Which factors most influence mindfulness teaching?</a>
  <ul class="collapse">
  <li><a href="#summary-of-logistic-regression-analysis" id="toc-summary-of-logistic-regression-analysis" class="nav-link" data-scroll-target="#summary-of-logistic-regression-analysis"><span class="header-section-number">4.1</span> Summary of Logistic Regression Analysis</a>
  <ul class="collapse">
  <li><a href="#overall-interpretation" id="toc-overall-interpretation" class="nav-link" data-scroll-target="#overall-interpretation"><span class="header-section-number">4.1.1</span> Overall Interpretation</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#factors-influencing-use-of-a-professional-website" id="toc-factors-influencing-use-of-a-professional-website" class="nav-link" data-scroll-target="#factors-influencing-use-of-a-professional-website"><span class="header-section-number">5</span> Factors Influencing Use of a Professional Website</a>
  <ul class="collapse">
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">5.1</span> Results</a>
  <ul class="collapse">
  <li><a href="#website-variable-distribution" id="toc-website-variable-distribution" class="nav-link" data-scroll-target="#website-variable-distribution"><span class="header-section-number">5.1.1</span> Website Variable Distribution</a></li>
  <li><a href="#model-coefficients" id="toc-model-coefficients" class="nav-link" data-scroll-target="#model-coefficients"><span class="header-section-number">5.1.2</span> Model Coefficients</a></li>
  <li><a href="#model-performance" id="toc-model-performance" class="nav-link" data-scroll-target="#model-performance"><span class="header-section-number">5.1.3</span> Model Performance</a></li>
  <li><a href="#classification-report" id="toc-classification-report" class="nav-link" data-scroll-target="#classification-report"><span class="header-section-number">5.1.4</span> Classification Report</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#nations-and-use-of-technology" id="toc-nations-and-use-of-technology" class="nav-link" data-scroll-target="#nations-and-use-of-technology"><span class="header-section-number">6</span> Nations and Use of Technology</a>
  <ul class="collapse">
  <li><a href="#nation-where-mindfulness-is-taught-influences-uses-of-professional-website" id="toc-nation-where-mindfulness-is-taught-influences-uses-of-professional-website" class="nav-link" data-scroll-target="#nation-where-mindfulness-is-taught-influences-uses-of-professional-website"><span class="header-section-number">6.1</span> Nation where mindfulness is taught influences uses of professional website</a></li>
  <li><a href="#factors-predicting-online-teaching" id="toc-factors-predicting-online-teaching" class="nav-link" data-scroll-target="#factors-predicting-online-teaching"><span class="header-section-number">6.2</span> Factors Predicting Online Teaching</a>
  <ul class="collapse">
  <li><a href="#model-performance-1" id="toc-model-performance-1" class="nav-link" data-scroll-target="#model-performance-1"><span class="header-section-number">6.2.1</span> Model Performance:</a></li>
  <li><a href="#classification-report-1" id="toc-classification-report-1" class="nav-link" data-scroll-target="#classification-report-1"><span class="header-section-number">6.2.2</span> Classification Report:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">7</span> Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MapMind (Part III): Digital Divides: Mindfulness Teaching &amp; Technology</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> itertools</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2_contingency</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> prettytable <span class="im">import</span> PrettyTable</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> classification_report, confusion_matrix, roc_auc_score</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder, OneHotEncoder</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.impute <span class="im">import</span> SimpleImputer</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> imblearn.over_sampling <span class="im">import</span> SMOTE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="executive-summary" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Executive Summary</h1>
<p>The final part of the MapMind project looks at how mindfulness teachers relate to technology, and uses predictive modeling using <strong>Chi-Squared tests</strong> and <strong>logistic regression</strong> to identify the factors that predict whether mindfulness teachers engage in online teaching based on several features, including gender, years of teaching experience, whether they hold a management position, and their nationality.</p>
<p>We ask the following research question:</p>
<ul>
<li>What demographic factors influence use of <strong>technology</strong>, use of a <strong>professional website</strong>, and <strong>online teaching</strong> of mindfulness?</li>
</ul>
</section>
<section id="data-science-tools" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Data Science Tools</h1>
<p>In this part of the project, I use numpy and pandas for data analysis; SciPy, statsmodels, and Scikit-Learn for statistical analysis; and PlotlyExpress for data visualisation. I use Synthetic Minority Over-sampling Technique (SMOTE) to increase the number of instances in the dataset.</p>
</section>
<section id="findings" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Findings</h1>
<ul>
<li>Majority of mindfulness teachers start to teach mindfulness between 2012-2014.</li>
<li>Majority use technology, have a website, but had not taught online.</li>
</ul>
<p>We found significant correlations in how demographic and social factors influence technology usage, use of a professional website, and online teaching. This is crucial for understanding diverse needs in the digital landscape of mindfulness and wellness teaching.</p>
<p>When we analysed the factors which most significantly influence mindfulness teaching, we found:</p>
<ul>
<li>Formal education level is a more significant predictor of technology use in mindfulness teaching than age.</li>
</ul>
<section id="majority-start-to-teach-mindfulness-between-2012-2014" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="majority-start-to-teach-mindfulness-between-2012-2014"><span class="header-section-number">3.1</span> Majority start to teach mindfulness between 2012-2014</h2>
<p>In the analysis of the <code>year_started</code> variable from a mindfulness teaching survey, Python libraries <code>pandas</code>, <code>prettytable</code>, <code>seaborn</code>, and <code>matplotlib.pyplot</code> were employed. The survey data revealed that among <code>722</code> respondents, the average start year of teaching mindfulness was <code>2012</code>, with a standard deviation of <code>6</code> years, ranging from <code>1974</code> to <code>2019</code>. The median start year was <code>2014</code>, indicating a more recent trend in mindfulness teaching.</p>
<p>Complementing these statistics, a <strong>violin plot</strong> was generated to visualize the distribution of the start years. This plot not only confirmed the central tendency and spread captured by the numerical data but also provided a deeper insight into the density and distribution patterns of the years when respondents began their mindfulness teaching journey. The combined use of descriptive statistics and the violin plot offers a comprehensive understanding of the temporal trends in mindfulness teaching among the survey participants.</p>
<p>Overall, our participants start to teach mindfulness between 1974 and 2019, with <code>50%</code> starting to teach from <code>2014</code>, and the mean average starting to teach in <code>2012</code>. These years correspond with the development of popular technologies - such as computers, the internet, and mobile phones. But while there are a substantial number of participants who start teaching mindfulness in the past <code>10</code> years in particular, we should remember that <strong>correlation is not causation</strong>. The rise of mindfulness teaching might be correlated with the rise of technology, rather than caused by the rise of technology.</p>
<div class="cell" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>survey <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with NA from the 'year_started' column</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey.dropna(subset<span class="op">=</span>[<span class="st">"year_started"</span>])</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate descriptive statistics for 'year_started'</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>descriptive_stats <span class="op">=</span> survey_clean[<span class="st">'year_started'</span>].describe()</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Round the mean and convert all statistics to integers</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>descriptive_stats_rounded <span class="op">=</span> descriptive_stats.<span class="bu">round</span>().astype(<span class="bu">int</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for the table</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>cells_data <span class="op">=</span> {</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Statistic"</span>: descriptive_stats_rounded.index,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Value"</span>: descriptive_stats_rounded.values</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(data<span class="op">=</span>[go.Table(</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[<span class="st">"Statistic"</span>, <span class="st">"Value"</span>],</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>                fill_color<span class="op">=</span><span class="st">'lightgrey'</span>,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'black'</span>, size<span class="op">=</span><span class="dv">12</span>)),</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    cells<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[cells_data[k] <span class="cf">for</span> k <span class="kw">in</span> cells_data.keys()],</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>               fill_color<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>               align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>               font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'black'</span>, size<span class="op">=</span><span class="dv">11</span>),</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>               height<span class="op">=</span><span class="dv">30</span>)  <span class="co"># Smaller height for rows</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>)])</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    title_text<span class="op">=</span><span class="st">'Year Started Teaching Mindfulness'</span>,</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    title_x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    title_font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>, family<span class="op">=</span><span class="st">"Verdana"</span>),</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    paper_bgcolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(l<span class="op">=</span><span class="dv">20</span>, r<span class="op">=</span><span class="dv">20</span>, t<span class="op">=</span><span class="dv">50</span>, b<span class="op">=</span><span class="dv">20</span>)  <span class="co"># Adjusted margins to center the table while keeping title</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the size of the table</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>fig.update_layout(width<span class="op">=</span><span class="dv">500</span>, height<span class="op">=</span><span class="dv">300</span>)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">

<div>                            <div id="8fd64f90-0675-4d92-9e84-50b1f6b03d07" class="plotly-graph-div" style="height:300px; width:500px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8fd64f90-0675-4d92-9e84-50b1f6b03d07")) {                    Plotly.newPlot(                        "8fd64f90-0675-4d92-9e84-50b1f6b03d07",                        [{"cells":{"align":"left","fill":{"color":"white"},"font":{"color":"black","size":11},"height":30,"values":[["count","mean","std","min","25%","50%","75%","max"],[722,2012,6,1974,2011,2014,2016,2019]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Statistic","Value"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"font":{"size":14,"family":"Verdana"},"text":"Year Started Teaching Mindfulness","x":0.5},"margin":{"l":20,"r":20,"t":50,"b":20},"paper_bgcolor":"white","plot_bgcolor":"white","width":500,"height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8fd64f90-0675-4d92-9e84-50b1f6b03d07');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>survey <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with NA from the 'year_started' column</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey.dropna(subset<span class="op">=</span>[<span class="st">"year_started"</span>])</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a violin plot using seaborn for the 'year_started' variable</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>sns.violinplot(data<span class="op">=</span>survey_clean, x<span class="op">=</span><span class="st">"year_started"</span>, inner<span class="op">=</span><span class="st">"quartile"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize the plot</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Year Started Teaching'</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Year Started Teaching'</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"whitegrid"</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="mapmind_technology_files/figure-html/cell-4-output-1.png" width="768" height="521"></p>
</div>
</div>
</section>
<section id="majority-use-technology-have-a-website-but-had-not-taught-online" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="majority-use-technology-have-a-website-but-had-not-taught-online"><span class="header-section-number">3.2</span> Majority use technology, have a website, but had not taught online</h2>
<p>We found some interesting contradictions in our data relating to how our participants engage with technology.</p>
<ul>
<li><p>The majority of our participants <strong>use technologies when teaching mindfulness</strong>. These technologies include smartphone apps, books, compact discs, course notes, MP3/podcasts, posters/PowerPoint, physical props such as foot items or musical instruments (excluding chairs/cushions), websites, video clips, flipcharts.</p></li>
<li><p>The majority <strong>have a professional website</strong> for their mindfulness work.</p></li>
<li><p>The majority <strong>had never taught mindfulness online</strong>.</p></li>
</ul>
<p>The following code analyses our participants’ use of technology, professional websites, and online teaching. <code>Pandas</code> is used for data manipulation and <code>Plotly Express</code> for generating the graph. In the results, a significant majority (<code>91.48%</code>, n=<code>644</code>) of participants use technology in their teaching. Regarding professional website usage, a majority (<code>60.31%</code>, n=<code>392</code>) have one, while <code>39.69%</code> (n=<code>258</code>) do not.</p>
<div class="cell" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>survey <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert data to long format for faceting</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>survey_long <span class="op">=</span> survey.melt(id_vars<span class="op">=</span>[], value_vars<span class="op">=</span>[<span class="st">'technology'</span>, <span class="st">'website'</span>, <span class="st">'online_teaching'</span>], </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                          var_name<span class="op">=</span><span class="st">'demographic'</span>, value_name<span class="op">=</span><span class="st">'value'</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate frequency for each value within each demographic</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>survey_freq <span class="op">=</span> survey_long.groupby([<span class="st">'demographic'</span>, <span class="st">'value'</span>], observed<span class="op">=</span><span class="va">True</span>).size().reset_index(name<span class="op">=</span><span class="st">'freq'</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove NA values</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>survey_freq <span class="op">=</span> survey_freq.dropna(subset<span class="op">=</span>[<span class="st">'value'</span>])</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'value' column to a category</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>survey_freq[<span class="st">'value'</span>] <span class="op">=</span> survey_freq[<span class="st">'value'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange by demographic and frequency</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>survey_freq <span class="op">=</span> survey_freq.sort_values(by<span class="op">=</span>[<span class="st">'demographic'</span>, <span class="st">'freq'</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">True</span>])</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentage</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>survey_freq[<span class="st">'percentage'</span>] <span class="op">=</span> survey_freq.groupby(<span class="st">'demographic'</span>)[<span class="st">'freq'</span>].transform(<span class="kw">lambda</span> x: x <span class="op">/</span> x.<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with Plotly Express</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.bar(survey_freq, x<span class="op">=</span><span class="st">'value'</span>, y<span class="op">=</span><span class="st">'percentage'</span>, color<span class="op">=</span><span class="st">'value'</span>, facet_col<span class="op">=</span><span class="st">'demographic'</span>, </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>             labels<span class="op">=</span>{<span class="st">'value'</span>: <span class="st">'Value'</span>, <span class="st">'percentage'</span>: <span class="st">'Percentage'</span>}, </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>             category_orders<span class="op">=</span>{<span class="st">'demographic'</span>: [<span class="st">'technology'</span>, <span class="st">'website'</span>, <span class="st">'online_teaching'</span>]},</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>             height<span class="op">=</span><span class="dv">400</span>, width<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>             hover_data<span class="op">=</span>{<span class="st">'freq'</span>: <span class="st">':.0f'</span>, <span class="st">'percentage'</span>: <span class="st">':.2f%'</span>})</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout to match the aesthetics</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    title_text<span class="op">=</span><span class="st">"Mindfulness Teachers' Use of Technologies"</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    title_x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    title_font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>, family<span class="op">=</span><span class="st">"Verdana"</span>),</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    paper_bgcolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'white'</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Update axes labels</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>fig.for_each_annotation(<span class="kw">lambda</span> a: a.update(text<span class="op">=</span>a.text.split(<span class="st">"="</span>)[<span class="op">-</span><span class="dv">1</span>]))</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(showticklabels<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title<span class="op">=</span><span class="st">'Percentage'</span>)</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">

<div>                            <div id="07265fa0-bd97-48d9-a5c2-6ff2194ad342" class="plotly-graph-div" style="height:400px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("07265fa0-bd97-48d9-a5c2-6ff2194ad342")) {                    Plotly.newPlot(                        "07265fa0-bd97-48d9-a5c2-6ff2194ad342",                        [{"alignmentgroup":"True","customdata":[[644]],"hovertemplate":"Value=%{x}\u003cbr\u003edemographic=technology\u003cbr\u003ePercentage=%{y:.2f%}\u003cbr\u003efreq=%{customdata[0]:.0f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Yes","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"Yes","offsetgroup":"Yes","orientation":"v","showlegend":true,"textposition":"auto","x":["Yes"],"xaxis":"x","y":[91.47727272727273],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","customdata":[[392]],"hovertemplate":"Value=%{x}\u003cbr\u003edemographic=website\u003cbr\u003ePercentage=%{y:.2f%}\u003cbr\u003efreq=%{customdata[0]:.0f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Yes","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"Yes","offsetgroup":"Yes","orientation":"v","showlegend":false,"textposition":"auto","x":["Yes"],"xaxis":"x2","y":[60.30769230769231],"yaxis":"y2","type":"bar"},{"alignmentgroup":"True","customdata":[[184]],"hovertemplate":"Value=%{x}\u003cbr\u003edemographic=online_teaching\u003cbr\u003ePercentage=%{y:.2f%}\u003cbr\u003efreq=%{customdata[0]:.0f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Yes","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"Yes","offsetgroup":"Yes","orientation":"v","showlegend":false,"textposition":"auto","x":["Yes"],"xaxis":"x3","y":[25.69832402234637],"yaxis":"y3","type":"bar"},{"alignmentgroup":"True","customdata":[[60]],"hovertemplate":"Value=%{x}\u003cbr\u003edemographic=technology\u003cbr\u003ePercentage=%{y:.2f%}\u003cbr\u003efreq=%{customdata[0]:.0f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"No","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"No","offsetgroup":"No","orientation":"v","showlegend":true,"textposition":"auto","x":["No"],"xaxis":"x","y":[8.522727272727272],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","customdata":[[258]],"hovertemplate":"Value=%{x}\u003cbr\u003edemographic=website\u003cbr\u003ePercentage=%{y:.2f%}\u003cbr\u003efreq=%{customdata[0]:.0f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"No","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"No","offsetgroup":"No","orientation":"v","showlegend":false,"textposition":"auto","x":["No"],"xaxis":"x2","y":[39.69230769230769],"yaxis":"y2","type":"bar"},{"alignmentgroup":"True","customdata":[[532]],"hovertemplate":"Value=%{x}\u003cbr\u003edemographic=online_teaching\u003cbr\u003ePercentage=%{y:.2f%}\u003cbr\u003efreq=%{customdata[0]:.0f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"No","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"No","offsetgroup":"No","orientation":"v","showlegend":false,"textposition":"auto","x":["No"],"xaxis":"x3","y":[74.30167597765363],"yaxis":"y3","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,0.31999999999999995],"title":{"text":"Value"},"categoryorder":"array","categoryarray":["Yes","No"],"showticklabels":true},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Percentage"}},"xaxis2":{"anchor":"y2","domain":[0.33999999999999997,0.6599999999999999],"matches":"x","title":{"text":"Value"},"categoryorder":"array","categoryarray":["Yes","No"],"showticklabels":true},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false,"title":{"text":"Percentage"}},"xaxis3":{"anchor":"y3","domain":[0.6799999999999999,0.9999999999999999],"matches":"x","title":{"text":"Value"},"categoryorder":"array","categoryarray":["Yes","No"],"showticklabels":true},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false,"title":{"text":"Percentage"}},"annotations":[{"font":{},"showarrow":false,"text":"technology","x":0.15999999999999998,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{},"showarrow":false,"text":"website","x":0.49999999999999994,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{},"showarrow":false,"text":"online_teaching","x":0.8399999999999999,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"legend":{"title":{"text":"Value"},"tracegroupgap":0},"margin":{"t":60},"barmode":"relative","height":400,"width":1000,"title":{"font":{"size":14,"family":"Verdana"},"text":"Mindfulness Teachers' Use of Technologies","x":0.5},"showlegend":false,"paper_bgcolor":"white","plot_bgcolor":"white"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('07265fa0-bd97-48d9-a5c2-6ff2194ad342');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>As for online teaching, a larger proportion (<code>74.30%</code>, n=<code>532</code>) have not taught mindfulness online, while <code>25.70%</code> (n=<code>184</code>) have. These statistics provide insights into the digital engagement of mindfulness teachers, highlighting a strong inclination towards using technology and websites, but less so for online teaching.</p>
<div class="cell" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>survey <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_bar(data, var_name, title):</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure the variable is categorical</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    data[var_name] <span class="op">=</span> pd.Categorical(data[var_name])</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter out missing values</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    filtered_data <span class="op">=</span> data.dropna(subset<span class="op">=</span>[var_name])</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count occurrences with observed=True</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    count_data <span class="op">=</span> filtered_data.groupby(var_name, observed<span class="op">=</span><span class="va">True</span>).size().reset_index(name<span class="op">=</span><span class="st">'n'</span>)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort by frequency in descending order</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    count_data <span class="op">=</span> count_data.sort_values(by<span class="op">=</span><span class="st">'n'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a bar plot</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> px.bar(count_data, x<span class="op">=</span><span class="st">'n'</span>, y<span class="op">=</span>var_name, orientation<span class="op">=</span><span class="st">'h'</span>, </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                 color<span class="op">=</span>var_name, title<span class="op">=</span>title, </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                 labels<span class="op">=</span>{<span class="st">'n'</span>: <span class="st">'Frequency'</span>})</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(showlegend<span class="op">=</span><span class="va">False</span>, template<span class="op">=</span><span class="st">'plotly_white'</span>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig, count_data</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plot and frequency data for online_n variable</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>p, freq_data <span class="op">=</span> plot_bar(survey, <span class="st">'online_n'</span>, <span class="st">'Number of Students Taught Online'</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentages for the table</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>total_count <span class="op">=</span> freq_data[<span class="st">'n'</span>].<span class="bu">sum</span>()</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>freq_data[<span class="st">'Percentage'</span>] <span class="op">=</span> (freq_data[<span class="st">'n'</span>] <span class="op">/</span> total_count) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Plotly table</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>fig_table <span class="op">=</span> go.Figure(data<span class="op">=</span>[go.Table(</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[<span class="st">"Value"</span>, <span class="st">"Frequency"</span>, <span class="st">"Percentage"</span>],</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>                fill_color<span class="op">=</span><span class="st">'paleturquoise'</span>,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>                align<span class="op">=</span><span class="st">'left'</span>),</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    cells<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[freq_data[<span class="st">'online_n'</span>], freq_data[<span class="st">'n'</span>], freq_data[<span class="st">'Percentage'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f"</span><span class="sc">{</span>x<span class="sc">:.2f}</span><span class="ss">%"</span>)],</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>               fill_color<span class="op">=</span><span class="st">'lavender'</span>,</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>               align<span class="op">=</span><span class="st">'left'</span>))</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Add title to the table</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>fig_table.update_layout(title_text<span class="op">=</span><span class="st">"Number of Students Taught Online"</span>, title_x<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the Plotly table</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>fig_table.show()</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the bar plot</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>p.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">

<div>                            <div id="880b8b43-66aa-44ee-958f-36a3ebd4ab45" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("880b8b43-66aa-44ee-958f-36a3ebd4ab45")) {                    Plotly.newPlot(                        "880b8b43-66aa-44ee-958f-36a3ebd4ab45",                        [{"cells":{"align":"left","fill":{"color":"lavender"},"values":[["0","1-5","More than 100","21-50","6-10","51-100","11-20"],[455,67,62,36,35,33,28],["63.55%","9.36%","8.66%","5.03%","4.89%","4.61%","3.91%"]]},"header":{"align":"left","fill":{"color":"paleturquoise"},"values":["Value","Frequency","Percentage"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"text":"Number of Students Taught Online","x":0.5}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('880b8b43-66aa-44ee-958f-36a3ebd4ab45');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">

<div>                            <div id="f0f795a3-c203-4079-bc45-3c831f11bb46" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f0f795a3-c203-4079-bc45-3c831f11bb46")) {                    Plotly.newPlot(                        "f0f795a3-c203-4079-bc45-3c831f11bb46",                        [{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"0","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"0","offsetgroup":"0","orientation":"h","showlegend":true,"textposition":"auto","x":[455],"xaxis":"x","y":["0"],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"1-5","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"1-5","offsetgroup":"1-5","orientation":"h","showlegend":true,"textposition":"auto","x":[67],"xaxis":"x","y":["1-5"],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"More than 100","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"More than 100","offsetgroup":"More than 100","orientation":"h","showlegend":true,"textposition":"auto","x":[62],"xaxis":"x","y":["More than 100"],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"21-50","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"21-50","offsetgroup":"21-50","orientation":"h","showlegend":true,"textposition":"auto","x":[36],"xaxis":"x","y":["21-50"],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"6-10","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"6-10","offsetgroup":"6-10","orientation":"h","showlegend":true,"textposition":"auto","x":[35],"xaxis":"x","y":["6-10"],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"51-100","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"51-100","offsetgroup":"51-100","orientation":"h","showlegend":true,"textposition":"auto","x":[33],"xaxis":"x","y":["51-100"],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"online_n=%{y}\u003cbr\u003eFrequency=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"11-20","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"11-20","offsetgroup":"11-20","orientation":"h","showlegend":true,"textposition":"auto","x":[28],"xaxis":"x","y":["11-20"],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Frequency"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"online_n"},"categoryorder":"array","categoryarray":["11-20","51-100","6-10","21-50","More than 100","1-5","0"]},"legend":{"title":{"text":"online_n"},"tracegroupgap":0},"title":{"text":"Number of Students Taught Online"},"barmode":"relative","showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f0f795a3-c203-4079-bc45-3c831f11bb46');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="what-factors-predict-mindfulness-teaching" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="what-factors-predict-mindfulness-teaching"><span class="header-section-number">3.3</span> What factors predict mindfulness teaching?</h2>
<p>Statistical tests were conducted to find out the factors which significantly predict mindfulness teaching.</p>
<p><strong>Chi-Squared tests</strong> were conducted to identify significant relations between pairs of variables. The significant results are visualised below using an interactive scatter plot.</p>
<p>The significant results are then displayed in a Plotly Express table sorted by Chi-Squared statistic, which indicates the strength of the significant relationship.</p>
<section id="predictors" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="predictors"><span class="header-section-number">3.3.1</span> Predictors</h3>
<ul>
<li>Age (<code>age</code>)</li>
<li>Gender (<code>gender</code>)</li>
<li>Nations where mindfulness is taught (<code>nations</code>)</li>
<li>Ethnicity (<code>ethnicity</code>)</li>
<li>Sexuality (<code>sexuality</code>)</li>
<li>Disability (<code>disability</code>)</li>
<li>Employment (<code>employment_other_type</code>)</li>
<li>Formal Education (<code>formal_education</code>)</li>
<li>Management (<code>management</code>)</li>
<li>Supervise Employees (<code>supervise_emp</code>)</li>
<li>Social Class (<code>social_class</code>)</li>
<li>Year Started Teaching (can act as either predictor or outcome variable) (<code>year_started</code>)</li>
</ul>
</section>
<section id="outcomes" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="outcomes"><span class="header-section-number">3.3.2</span> Outcomes</h3>
<ul>
<li>Technology (<code>technology</code>)</li>
<li>Website (<code>website</code>)</li>
<li>Online Teaching (<code>online_teaching</code>)</li>
<li>Number of Students Taught Online (<code>online_n</code>)</li>
</ul>
</section>
<section id="significant-predictors-and-outcomes" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="significant-predictors-and-outcomes"><span class="header-section-number">3.3.3</span> Significant Predictors and Outcomes</h3>
<p>We conducted in-depth analyses of the predictor-and-outcome pairs which are significantly related. This report focuses on the factors which influence mindfulness teaching in relation to technology. The rest of the report summarises the in-depth analyes of the following significantly related factors.</p>
<p>Age and use of a professional website Age and use of technology</p>
<p>Formal education and use of technology</p>
<p>Gender and online teaching Gender and number of students taught online</p>
<p>Management role and online teaching Management role and number of students taught online Management role and use of a professional website</p>
<p>Nations where mindfulness is taught and number of students taught online Nations where mindfulness is taught and online teaching Nations where mindfulness is taught and use of a professional website</p>
<p>Year started teaching and number of studens taught online Year started teaching and online teaching Year started teaching and use of a professional website</p>
<div class="cell" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>survey_social_class_merged <span class="op">=</span> pd.read_pickle(<span class="st">'data/survey_social_class_merged.pkl'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define independent and dependent variables</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>independent_vars <span class="op">=</span> [<span class="st">'age'</span>, <span class="st">'gender'</span>, <span class="st">'nations'</span>, <span class="st">'ethnicity'</span>, <span class="st">'sexuality'</span>, <span class="st">'disability'</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'employment_other_type'</span>, <span class="st">'formal_education'</span>, <span class="st">'management'</span>, <span class="st">'supervise_emp'</span>, <span class="st">'social_class'</span>]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>dependent_vars <span class="op">=</span> [<span class="st">'technology'</span>, <span class="st">'website'</span>, <span class="st">'online_teaching'</span>, <span class="st">'online_n'</span>]</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>year_started <span class="op">=</span> [<span class="st">'year_started'</span>]  <span class="co"># can act as both IV and DV</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to perform chi-squared tests and return results as a DataFrame</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perform_chi_squared_tests(data):</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> []</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create all unique pairs of IVs and DVs, including year_started as both</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var1, var2 <span class="kw">in</span> itertools.product(independent_vars <span class="op">+</span> year_started, dependent_vars <span class="op">+</span> year_started):</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> var1 <span class="op">!=</span> var2:</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Drop NaN values separately for the variables being tested</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>            data_cleaned <span class="op">=</span> data.dropna(subset<span class="op">=</span>[var1, var2])</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Conduct chi-squared test</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>            table <span class="op">=</span> pd.crosstab(data_cleaned[var1], data_cleaned[var2])</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>            chi2_stat, p_val, dof, _ <span class="op">=</span> chi2_contingency(table)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Check if the relationship is significant (using a threshold, e.g., 0.05)</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> p_val <span class="op">&lt;</span> <span class="fl">0.05</span>:</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Store results in list</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>                results.append([<span class="ss">f"</span><span class="sc">{</span>var1<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>var2<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>                                chi2_stat, dof, p_val, <span class="bu">len</span>(data) <span class="op">-</span> <span class="bu">len</span>(data_cleaned),</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>                                <span class="ss">f"</span><span class="sc">{</span>var1<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>data_cleaned[var1]<span class="sc">.</span>nunique()<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>var2<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>data_cleaned[var2]<span class="sc">.</span>nunique()<span class="sc">}</span><span class="ss">"</span>])</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert results to DataFrame</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    results_df <span class="op">=</span> pd.DataFrame(results, columns<span class="op">=</span>[<span class="st">"Test"</span>, <span class="st">"Chi-Squared Statistic"</span>, <span class="st">"Degrees of Freedom"</span>, <span class="st">"P-Value"</span>, <span class="st">"NaNs Dropped"</span>, <span class="st">"Unique Cases"</span>])</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort results by chi-squared statistic (descending)</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    results_df.sort_values(by<span class="op">=</span><span class="st">"Chi-Squared Statistic"</span>, ascending<span class="op">=</span><span class="va">False</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results_df</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform chi-squared tests</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>significant_results_df <span class="op">=</span> perform_chi_squared_tests(survey_social_class_merged)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Use Plotly Express to create an interactive scatter plot</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(significant_results_df, x<span class="op">=</span><span class="st">"Test"</span>, y<span class="op">=</span><span class="st">"Chi-Squared Statistic"</span>, </span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>                 size<span class="op">=</span><span class="st">"Chi-Squared Statistic"</span>, color<span class="op">=</span><span class="st">"P-Value"</span>, </span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>                 hover_data<span class="op">=</span>[<span class="st">"Degrees of Freedom"</span>, <span class="st">"NaNs Dropped"</span>, <span class="st">"Unique Cases"</span>],</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>                 title<span class="op">=</span><span class="st">"Chi-Squared Test Results: Tests vs Chi-Squared Statistic"</span>,</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>                 labels<span class="op">=</span>{<span class="st">"Test"</span>: <span class="st">"Test"</span>, <span class="st">"Chi-Squared Statistic"</span>: <span class="st">"Chi-Squared Statistic"</span>, <span class="st">"P-Value"</span>: <span class="st">"P-Value"</span>},</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>                 category_orders<span class="op">=</span>{<span class="st">"Test"</span>: significant_results_df[<span class="st">"Test"</span>]})  <span class="co"># Order x-axis based on sorted Test names</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">

<div>                            <div id="462eeaa7-e991-458f-9c41-4f6dbe725f26" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("462eeaa7-e991-458f-9c41-4f6dbe725f26")) {                    Plotly.newPlot(                        "462eeaa7-e991-458f-9c41-4f6dbe725f26",                        [{"customdata":[[124,56,"nations: 5, year_started: 32"],[186,52,"year_started: 32, online_n: 7"],[93,111,"gender: 4, year_started: 32"],[93,112,"formal_education: 4, year_started: 32"],[72,338,"social_class: 4, year_started: 25"],[24,56,"nations: 5, online_n: 7"],[62,111,"disability: 3, year_started: 32"],[31,46,"management: 2, year_started: 32"],[4,56,"nations: 5, online_teaching: 2"],[31,52,"year_started: 32, online_teaching: 2"],[31,118,"year_started: 32, website: 2"],[18,111,"gender: 4, online_n: 7"],[4,118,"nations: 5, website: 2"],[6,52,"management: 2, online_n: 7"],[1,52,"management: 2, online_teaching: 2"],[9,118,"age: 10, website: 2"],[6,341,"supervise_emp: 2, online_n: 7"],[3,111,"gender: 4, online_teaching: 2"],[3,113,"formal_education: 4, technology: 2"],[1,341,"supervise_emp: 2, online_teaching: 2"],[1,118,"management: 2, website: 2"],[1,370,"supervise_emp: 2, website: 2"]],"hovertemplate":"Test=%{x}\u003cbr\u003eChi-Squared Statistic=%{marker.size}\u003cbr\u003eDegrees of Freedom=%{customdata[0]}\u003cbr\u003eNaNs Dropped=%{customdata[1]}\u003cbr\u003eUnique Cases=%{customdata[2]}\u003cbr\u003eP-Value=%{marker.color}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":[1.4812594771090533e-24,0.02787858124579619,3.7834731846553706e-05,0.0004924966160509624,0.005634770537570735,1.0490895829140457e-08,0.04090118508719291,5.911878441903842e-05,1.3754273150038289e-13,0.0013354744184983205,0.03245109949998662,0.0086047412791464,7.67459815372819e-06,0.0008988874890842292,7.944536694548721e-06,0.03249831224734725,0.013742089030228081,0.002640469571142925,0.005469060567803969,0.0005354725303368053,0.004522527714554017,0.017784974068109444],"coloraxis":"coloraxis","size":[357.91865032291463,224.6300269038211,156.9906037363816,144.588417618527,106.00245473931952,84.74428224924569,82.66051967614251,70.84855309730344,66.29094345865377,60.039294487457184,47.04018150200503,35.32328474576252,29.039410279028218,22.712042272943858,19.951168993431406,18.23913903950962,16.002214040549163,14.203800840075903,12.645656267462197,11.987894582416697,8.061117652923151,5.617206548162975],"sizemode":"area","sizeref":0.8947966258072866,"symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":["Nations vs Year_started","Year_started vs Online_n","Gender vs Year_started","Formal_education vs Year_started","Social_class vs Year_started","Nations vs Online_n","Disability vs Year_started","Management vs Year_started","Nations vs Online_teaching","Year_started vs Online_teaching","Year_started vs Website","Gender vs Online_n","Nations vs Website","Management vs Online_n","Management vs Online_teaching","Age vs Website","Supervise_emp vs Online_n","Gender vs Online_teaching","Formal_education vs Technology","Supervise_emp vs Online_teaching","Management vs Website","Supervise_emp vs Website"],"xaxis":"x","y":[357.91865032291463,224.6300269038211,156.9906037363816,144.588417618527,106.00245473931952,84.74428224924569,82.66051967614251,70.84855309730344,66.29094345865377,60.039294487457184,47.04018150200503,35.32328474576252,29.039410279028218,22.712042272943858,19.951168993431406,18.23913903950962,16.002214040549163,14.203800840075903,12.645656267462197,11.987894582416697,8.061117652923151,5.617206548162975],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Test"},"categoryorder":"array","categoryarray":["Nations vs Year_started","Year_started vs Online_n","Gender vs Year_started","Formal_education vs Year_started","Social_class vs Year_started","Nations vs Online_n","Disability vs Year_started","Management vs Year_started","Nations vs Online_teaching","Year_started vs Online_teaching","Year_started vs Website","Gender vs Online_n","Nations vs Website","Management vs Online_n","Management vs Online_teaching","Age vs Website","Supervise_emp vs Online_n","Gender vs Online_teaching","Formal_education vs Technology","Supervise_emp vs Online_teaching","Management vs Website","Supervise_emp vs Website"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Chi-Squared Statistic"}},"coloraxis":{"colorbar":{"title":{"text":"P-Value"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"Chi-Squared Test Results: Tests vs Chi-Squared Statistic"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('462eeaa7-e991-458f-9c41-4f6dbe725f26');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> chi2_contingency</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> itertools</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>survey_social_class_merged <span class="op">=</span> pd.read_pickle(<span class="st">'data/survey_social_class_merged.pkl'</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Define independent and dependent variables</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>independent_vars <span class="op">=</span> [<span class="st">'age'</span>, <span class="st">'gender'</span>, <span class="st">'nations'</span>, <span class="st">'ethnicity'</span>, <span class="st">'sexuality'</span>, <span class="st">'disability'</span>, </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'employment_other_type'</span>, <span class="st">'formal_education'</span>, <span class="st">'management'</span>, <span class="st">'supervise_emp'</span>, <span class="st">'social_class'</span>]</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>dependent_vars <span class="op">=</span> [<span class="st">'technology'</span>, <span class="st">'website'</span>, <span class="st">'online_teaching'</span>, <span class="st">'online_n'</span>]</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>year_started <span class="op">=</span> [<span class="st">'year_started'</span>]  <span class="co"># can act as both IV and DV</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to perform chi-squared tests and return Plotly table for significant results</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perform_chi_squared_tests(data):</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    significant_results <span class="op">=</span> []  <span class="co"># List to hold the significant results</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create all unique pairs of IVs and DVs, including year_started as both</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var1, var2 <span class="kw">in</span> itertools.product(independent_vars <span class="op">+</span> year_started, dependent_vars <span class="op">+</span> year_started):</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> var1 <span class="op">!=</span> var2:</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Drop NaN values separately for the variables being tested</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>            data_cleaned <span class="op">=</span> data.dropna(subset<span class="op">=</span>[var1, var2])</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Count unique cases for each variable</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>            cases_var1 <span class="op">=</span> data_cleaned[var1].nunique()</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>            cases_var2 <span class="op">=</span> data_cleaned[var2].nunique()</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Conduct chi-squared test</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>            table <span class="op">=</span> pd.crosstab(data_cleaned[var1], data_cleaned[var2])</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>            chi2_stat, p_val, dof, _ <span class="op">=</span> chi2_contingency(table)</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Check if the relationship is significant (using a threshold, e.g., 0.05)</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> p_val <span class="op">&lt;</span> <span class="fl">0.05</span>:</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Append results to the list</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>                result <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>var1<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>var2<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>                          <span class="bu">round</span>(chi2_stat, <span class="dv">2</span>), dof, p_val, data[var1].isna().<span class="bu">sum</span>() <span class="op">+</span> data[var2].isna().<span class="bu">sum</span>(),</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>                          <span class="ss">f"</span><span class="sc">{</span>var1<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>cases_var1<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>var2<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>cases_var2<span class="sc">}</span><span class="ss">"</span>]</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>                significant_results.append(result)</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort the results by Chi-Squared statistic in descending order</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    significant_results.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a Plotly table</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>[go.Table(</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>        header<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[<span class="st">"Test"</span>, <span class="st">"Chi-Squared Statistic"</span>, <span class="st">"Degrees of Freedom"</span>, <span class="st">"P-Value"</span>, <span class="st">"NaNs Dropped"</span>, <span class="st">"Unique Cases"</span>]),</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>        cells<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span><span class="bu">list</span>(<span class="bu">zip</span>(<span class="op">*</span>significant_results)))</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    )])</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(title<span class="op">=</span><span class="st">"Significant Results of Chi-Squared Tests (Sorted by Chi-Squared Statistic)"</span>)</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform chi-squared tests</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>significant_results_fig <span class="op">=</span> perform_chi_squared_tests(survey_social_class_merged)</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the table</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>significant_results_fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">

<div>                            <div id="8a5230aa-2673-4061-8610-90623e0fc547" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8a5230aa-2673-4061-8610-90623e0fc547")) {                    Plotly.newPlot(                        "8a5230aa-2673-4061-8610-90623e0fc547",                        [{"cells":{"values":[["Nations vs Year_started","Year_started vs Online_n","Gender vs Year_started","Formal_education vs Year_started","Social_class vs Year_started","Nations vs Online_n","Disability vs Year_started","Management vs Year_started","Nations vs Online_teaching","Year_started vs Online_teaching","Year_started vs Website","Gender vs Online_n","Nations vs Website","Management vs Online_n","Management vs Online_teaching","Age vs Website","Supervise_emp vs Online_n","Gender vs Online_teaching","Formal_education vs Technology","Supervise_emp vs Online_teaching","Management vs Website","Supervise_emp vs Website"],[357.92,224.63,156.99,144.59,106.0,84.74,82.66,70.85,66.29,60.04,47.04,35.32,29.04,22.71,19.95,18.24,16.0,14.2,12.65,11.99,8.06,5.62],[124,186,93,93,72,24,62,31,4,31,31,18,4,6,1,9,6,3,3,1,1,1],[1.4812594771090533e-24,0.02787858124579619,3.7834731846553706e-05,0.0004924966160509624,0.005634770537570735,1.0490895829140457e-08,0.04090118508719291,5.911878441903842e-05,1.3754273150038289e-13,0.0013354744184983205,0.03245109949998662,0.0086047412791464,7.67459815372819e-06,0.0008988874890842292,7.944536694548721e-06,0.03249831224734725,0.013742089030228081,0.002640469571142925,0.005469060567803969,0.0005354725303368053,0.004522527714554017,0.017784974068109444],[102,98,157,158,384,108,157,69,108,98,164,163,174,75,75,229,393,163,176,393,141,459],["nations: 5, year_started: 32","year_started: 32, online_n: 7","gender: 4, year_started: 32","formal_education: 4, year_started: 32","social_class: 4, year_started: 25","nations: 5, online_n: 7","disability: 3, year_started: 32","management: 2, year_started: 32","nations: 5, online_teaching: 2","year_started: 32, online_teaching: 2","year_started: 32, website: 2","gender: 4, online_n: 7","nations: 5, website: 2","management: 2, online_n: 7","management: 2, online_teaching: 2","age: 10, website: 2","supervise_emp: 2, online_n: 7","gender: 4, online_teaching: 2","formal_education: 4, technology: 2","supervise_emp: 2, online_teaching: 2","management: 2, website: 2","supervise_emp: 2, website: 2"]]},"header":{"values":["Test","Chi-Squared Statistic","Degrees of Freedom","P-Value","NaNs Dropped","Unique Cases"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"text":"Significant Results of Chi-Squared Tests (Sorted by Chi-Squared Statistic)"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8a5230aa-2673-4061-8610-90623e0fc547');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>survey_social_class_merged <span class="op">=</span> pd.read_pickle(<span class="st">'data/survey_social_class_merged.pkl'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define independent and dependent variables</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>independent_vars <span class="op">=</span> [<span class="st">'age'</span>, <span class="st">'gender'</span>, <span class="st">'nations'</span>, <span class="st">'ethnicity'</span>, <span class="st">'sexuality'</span>, <span class="st">'disability'</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'employment_other_type'</span>, <span class="st">'formal_education'</span>, <span class="st">'management'</span>, <span class="st">'supervise_emp'</span>, <span class="st">'social_class'</span>]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>dependent_vars <span class="op">=</span> [<span class="st">'technology'</span>, <span class="st">'website'</span>, <span class="st">'online_teaching'</span>, <span class="st">'online_n'</span>]</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>year_started <span class="op">=</span> [<span class="st">'year_started'</span>]  <span class="co"># can act as both IV and DV</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to perform chi-squared tests and return PrettyTables for significant results</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> perform_chi_squared_tests(data):</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    significant_results <span class="op">=</span> []  <span class="co"># List to hold the significant results</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create all unique pairs of IVs and DVs, including year_started as both</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var1, var2 <span class="kw">in</span> itertools.product(independent_vars <span class="op">+</span> year_started, dependent_vars <span class="op">+</span> year_started):</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> var1 <span class="op">!=</span> var2:</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Drop NaN values separately for the variables being tested</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>            data_cleaned <span class="op">=</span> data.dropna(subset<span class="op">=</span>[var1, var2])</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Count unique cases for each variable</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>            cases_var1 <span class="op">=</span> data_cleaned[var1].nunique()</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>            cases_var2 <span class="op">=</span> data_cleaned[var2].nunique()</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Conduct chi-squared test</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>            table <span class="op">=</span> pd.crosstab(data_cleaned[var1], data_cleaned[var2])</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>            chi2_stat, p_val, dof, _ <span class="op">=</span> chi2_contingency(table)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Check if the relationship is significant (using a threshold, e.g., 0.05)</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> p_val <span class="op">&lt;</span> <span class="fl">0.05</span>:</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Append results to the list</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>                result <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>var1<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>var2<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>                          <span class="bu">round</span>(chi2_stat, <span class="dv">2</span>), dof, p_val, data[var1].isna().<span class="bu">sum</span>() <span class="op">+</span> data[var2].isna().<span class="bu">sum</span>(),</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>                          <span class="ss">f"</span><span class="sc">{</span>var1<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>cases_var1<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>var2<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>cases_var2<span class="sc">}</span><span class="ss">"</span>]</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>                significant_results.append(result)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort the results by Chi-Squared statistic in descending order</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    significant_results.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create PrettyTable</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    significant_results_pt <span class="op">=</span> PrettyTable()</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    significant_results_pt.field_names <span class="op">=</span> [<span class="st">"Test"</span>, <span class="st">"Chi-Squared Statistic"</span>, <span class="st">"Degrees of Freedom"</span>, <span class="st">"P-Value"</span>, <span class="st">"NaNs Dropped"</span>, <span class="st">"Unique Cases"</span>]</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add sorted results to PrettyTable</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> result <span class="kw">in</span> significant_results:</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>        significant_results_pt.add_row(result)</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> significant_results_pt</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform chi-squared tests</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>significant_results_table <span class="op">=</span> perform_chi_squared_tests(survey_social_class_merged)</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the tables</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Significant Results of Chi-Squared Tests (Sorted by Chi-Squared Statistic)"</span>)</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(significant_results_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Significant Results of Chi-Squared Tests (Sorted by Chi-Squared Statistic)
+----------------------------------+-----------------------+--------------------+------------------------+--------------+---------------------------------------+
|               Test               | Chi-Squared Statistic | Degrees of Freedom |        P-Value         | NaNs Dropped |              Unique Cases             |
+----------------------------------+-----------------------+--------------------+------------------------+--------------+---------------------------------------+
|     Nations vs Year_started      |         357.92        |        124         | 1.4812594771090533e-24 |     102      |      nations: 5, year_started: 32     |
|     Year_started vs Online_n     |         224.63        |        186         |  0.02787858124579619   |      98      |     year_started: 32, online_n: 7     |
|      Gender vs Year_started      |         156.99        |         93         | 3.7834731846553706e-05 |     157      |      gender: 4, year_started: 32      |
| Formal_education vs Year_started |         144.59        |         93         | 0.0004924966160509624  |     158      | formal_education: 4, year_started: 32 |
|   Social_class vs Year_started   |         106.0         |         72         |  0.005634770537570735  |     384      |   social_class: 4, year_started: 25   |
|       Nations vs Online_n        |         84.74         |         24         | 1.0490895829140457e-08 |     108      |        nations: 5, online_n: 7        |
|    Disability vs Year_started    |         82.66         |         62         |  0.04090118508719291   |     157      |    disability: 3, year_started: 32    |
|    Management vs Year_started    |         70.85         |         31         | 5.911878441903842e-05  |      69      |    management: 2, year_started: 32    |
|    Nations vs Online_teaching    |         66.29         |         4          | 1.3754273150038289e-13 |     108      |     nations: 5, online_teaching: 2    |
| Year_started vs Online_teaching  |         60.04         |         31         | 0.0013354744184983205  |      98      |  year_started: 32, online_teaching: 2 |
|     Year_started vs Website      |         47.04         |         31         |  0.03245109949998662   |     164      |      year_started: 32, website: 2     |
|        Gender vs Online_n        |         35.32         |         18         |   0.0086047412791464   |     163      |         gender: 4, online_n: 7        |
|        Nations vs Website        |         29.04         |         4          |  7.67459815372819e-06  |     174      |         nations: 5, website: 2        |
|      Management vs Online_n      |         22.71         |         6          | 0.0008988874890842292  |      75      |       management: 2, online_n: 7      |
|  Management vs Online_teaching   |         19.95         |         1          | 7.944536694548721e-06  |      75      |   management: 2, online_teaching: 2   |
|          Age vs Website          |         18.24         |         9          |  0.03249831224734725   |     229      |          age: 10, website: 2          |
|    Supervise_emp vs Online_n     |          16.0         |         6          |  0.013742089030228081  |     393      |     supervise_emp: 2, online_n: 7     |
|    Gender vs Online_teaching     |          14.2         |         3          |  0.002640469571142925  |     163      |     gender: 4, online_teaching: 2     |
|  Formal_education vs Technology  |         12.65         |         3          |  0.005469060567803969  |     176      |   formal_education: 4, technology: 2  |
| Supervise_emp vs Online_teaching |         11.99         |         1          | 0.0005354725303368053  |     393      |  supervise_emp: 2, online_teaching: 2 |
|      Management vs Website       |          8.06         |         1          |  0.004522527714554017  |     141      |       management: 2, website: 2       |
|     Supervise_emp vs Website     |          5.62         |         1          |  0.017784974068109444  |     459      |      supervise_emp: 2, website: 2     |
+----------------------------------+-----------------------+--------------------+------------------------+--------------+---------------------------------------+</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="which-factors-most-influence-mindfulness-teaching" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Which factors most influence mindfulness teaching?</h1>
<section id="summary-of-logistic-regression-analysis" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="summary-of-logistic-regression-analysis"><span class="header-section-number">4.1</span> Summary of Logistic Regression Analysis</h2>
<section id="overall-interpretation" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="overall-interpretation"><span class="header-section-number">4.1.1</span> Overall Interpretation</h3>
<ul>
<li><strong>Formal Education as a Stronger Predictor</strong>: Formal education level is a more significant predictor of technology use in mindfulness teaching than age.</li>
<li><strong>Moderate Accuracy</strong>: The model has an accuracy of approximately 61.67%, indicating moderate predictive power.</li>
<li><strong>Balanced Predictions</strong>: The model shows balanced precision, recall, and F1-scores for both classes (technology use and non-use).</li>
</ul>
<p>The data was loaded and preprocessed, age and formal education were encoded, and SMOTE was used to balance the dataset. A logistic regression model was built and trained. The model coefficients were calculated to indicate the influence of age and formal education on use of technology. The coefficients show for age (<code>0.0592</code>) and formal education (<code>0.7411</code>) suggest formal education is a stronger influence than age on use of technology.</p>
<ul>
<li>Formal education level is a more significant predictor of technology use in mindfulness teaching than age.</li>
</ul>
<p>However, the ROC AUC - which assesses the model’s ability to distinguish between classes (in this case, age and formal education), was approximately <code>0.604</code>, indicating limited discrimination ability between classes.</p>
<p>The confusion matrix and classification report provides detailed insights into model performance, reflecting a balance between precision and recall for predicting both technology use and non-use.</p>
<p>Overall, this analysis suggests the need for further model refinement and consideration of additional variables to enhance predictive accuracy.</p>
<div class="cell" data-execution_count="9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the necessary columns to 'category' type</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>category_columns <span class="op">=</span> [<span class="st">'age'</span>, <span class="st">'technology'</span>, <span class="st">'formal_education'</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> category_columns:</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    survey_clean[col] <span class="op">=</span> survey_clean[col].astype(<span class="st">'category'</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop rows with NaN values in the relevant columns</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.dropna(subset<span class="op">=</span>category_columns).copy()</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'technology' from Yes/No to 0/1</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>survey_clean.loc[:, <span class="st">'technology'</span>] <span class="op">=</span> survey_clean[<span class="st">'technology'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding 'age' and 'formal_education'</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>age_mapping <span class="op">=</span> {<span class="st">'25-29'</span>: <span class="dv">1</span>, <span class="st">'30-34'</span>: <span class="dv">2</span>, <span class="st">'35-39'</span>: <span class="dv">3</span>, <span class="st">'40-44'</span>: <span class="dv">4</span>, <span class="st">'45-49'</span>: <span class="dv">5</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>               <span class="st">'50-54'</span>: <span class="dv">6</span>, <span class="st">'55-59'</span>: <span class="dv">7</span>, <span class="st">'60-64'</span>: <span class="dv">8</span>, <span class="st">'65+'</span>: <span class="dv">9</span>, <span class="st">'Prefer not to say'</span>: <span class="dv">10</span>}</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>education_mapping <span class="op">=</span> {<span class="st">'Non-degree'</span>: <span class="dv">1</span>, <span class="st">'Degree'</span>: <span class="dv">2</span>, <span class="st">'Higher degree'</span>: <span class="dv">3</span>, <span class="st">'Prefer not to say'</span>: <span class="dv">4</span>}</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>survey_clean.loc[:, <span class="st">'age_encoded'</span>] <span class="op">=</span> survey_clean[<span class="st">'age'</span>].<span class="bu">map</span>(age_mapping)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>survey_clean.loc[:, <span class="st">'formal_education_encoded'</span>] <span class="op">=</span> survey_clean[<span class="st">'formal_education'</span>].<span class="bu">map</span>(education_mapping)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure no NaN values remain</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.dropna(subset<span class="op">=</span>[<span class="st">'age_encoded'</span>, <span class="st">'formal_education_encoded'</span>])</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Define predictor variables and outcome variable</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> survey_clean[[<span class="st">'age_encoded'</span>, <span class="st">'formal_education_encoded'</span>]]</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> survey_clean[<span class="st">'technology'</span>]</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Addressing Imbalance using SMOTE</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>sm <span class="op">=</span> SMOTE(random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>X_res, y_res <span class="op">=</span> sm.fit_resample(X, y)</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Split dataset into training and testing sets</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X_res, y_res, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Build logistic regression model</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>logreg <span class="op">=</span> LogisticRegression()</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>logreg.fit(X_train, y_train)</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict test set results and calculate accuracy</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> logreg.predict(X_test)</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Model Coefficients</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Model Coefficients:"</span>)</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col, coef <span class="kw">in</span> <span class="bu">zip</span>(X.columns, logreg.coef_[<span class="dv">0</span>]):</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>coef<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluation Metrics</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> logreg.score(X_test, y_test)</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>roc_auc <span class="op">=</span> roc_auc_score(y_test, logreg.predict_proba(X_test)[:, <span class="dv">1</span>])</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>conf_matrix <span class="op">=</span> confusion_matrix(y_test, y_pred)</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>class_report <span class="op">=</span> classification_report(y_test, y_pred, zero_division<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Accuracy of logistic regression classifier on test set:'</span>, accuracy)</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">ROC AUC Score:'</span>, roc_auc)</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Confusion Matrix:</span><span class="ch">\n</span><span class="st">'</span>, conf_matrix)</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Classification Report:</span><span class="ch">\n</span><span class="st">'</span>, class_report)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Model Coefficients:
age_encoded: 0.05916298277924694
formal_education_encoded: 0.7411458427773902

Accuracy of logistic regression classifier on test set: 0.6166666666666667

ROC AUC Score: 0.6036770163285502

Confusion Matrix:
 [[104  84]
 [ 54 118]]

Classification Report:
               precision    recall  f1-score   support

           0       0.66      0.55      0.60       188
           1       0.58      0.69      0.63       172

    accuracy                           0.62       360
   macro avg       0.62      0.62      0.62       360
weighted avg       0.62      0.62      0.62       360
</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="factors-influencing-use-of-a-professional-website" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Factors Influencing Use of a Professional Website</h1>
<p>We conducted in-depth analysis of the factors influencing the use of a professional website. The model considers various predictors:</p>
<ul>
<li><code>age</code>: The age of the teachers.</li>
<li><code>nations</code>: The nations in which they teach.</li>
<li><code>management</code>: Whether they hold a management position.</li>
<li><code>year_started</code>: The year when they started teaching.</li>
</ul>
<p>The dataset was preprocessed by dropping rows with missing values and by encoding categorical variables. <code>management</code> and <code>website</code> were converted from Yes/No to binary (0/1), <code>age</code> was mapped to numerical categories based on ranges, <code>nations</code> was encoded as a numeric variable, and <code>year_started</code> was converted to an integer type.</p>
<p>The dataset was split into training and test sets (70-30 split). A logistic regression model was trained on the processed data, due to the outcome variable being categorical.</p>
<section id="results" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="results"><span class="header-section-number">5.1</span> Results</h2>
<p>The model shows that having a management role is a significant positive predictor for using a professional website, while <code>age</code> and <code>nations</code> where mindfulness is taught show a negative correlation. However, the overall accuracy and ROC AUC score suggest that the model has moderate predictive power, and there is substantial room for improvement.</p>
<section id="website-variable-distribution" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="website-variable-distribution"><span class="header-section-number">5.1.1</span> Website Variable Distribution</h3>
<ul>
<li>Having a Website (<code>1</code>): 392</li>
<li>Not Having a Website (<code>0</code>): 258</li>
</ul>
</section>
<section id="model-coefficients" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="model-coefficients"><span class="header-section-number">5.1.2</span> Model Coefficients</h3>
<p>The model coefficients suggest the following positive correlations:</p>
<ul>
<li>Management role is positively correlated with having a professional website (<code>0.6109</code>)</li>
<li>Very slight positive impact on the likelihood of having a website the later year started teaching (<code>0.00041</code>)</li>
</ul>
<p>The model coefficients suggest the following negative correlations:</p>
<ul>
<li>Negative correlation between nations where mindfulness is taught and having a professional website (<code>-0.1856</code>)</li>
<li>Slight decrease in likelihood of having a professional website with increasing age (<code>-0.06271</code>)</li>
</ul>
</section>
<section id="model-performance" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="model-performance"><span class="header-section-number">5.1.3</span> Model Performance</h3>
<ul>
<li><strong>Accuracy</strong>: 60.51% on the test set.</li>
<li><strong>ROC AUC Score</strong>: 0.5509, indicating moderate discriminative ability.</li>
</ul>
</section>
<section id="classification-report" class="level3" data-number="5.1.4">
<h3 data-number="5.1.4" class="anchored" data-anchor-id="classification-report"><span class="header-section-number">5.1.4</span> Classification Report</h3>
<ul>
<li><strong>Precision</strong> for not having a website (<code>0</code>): 46%</li>
<li><strong>Recall</strong> for not having a website (<code>0</code>): 17%</li>
<li><strong>F1-Score</strong> for not having a website (<code>0</code>): 25%</li>
<li><strong>Precision</strong> for having a website (<code>1</code>): 63%</li>
<li><strong>Recall</strong> for having a website (<code>1</code>): 88%</li>
<li><strong>F1-Score</strong> for having a website (<code>1</code>): 73%</li>
</ul>
<div class="cell" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop NA values from variables of interest</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.dropna(subset<span class="op">=</span>[<span class="st">'age'</span>, <span class="st">'management'</span>, <span class="st">'website'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>])</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print initial data types</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Initial Data Types:</span><span class="ch">\n</span><span class="st">"</span>, survey_clean[[<span class="st">'age'</span>, <span class="st">'management'</span>, <span class="st">'website'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>]].dtypes)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'management' and 'website' from Yes/No to 0/1</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'management'</span>] <span class="op">=</span> survey_clean[<span class="st">'management'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'website'</span>] <span class="op">=</span> survey_clean[<span class="st">'website'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'year_started' to integer</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'year_started'</span>] <span class="op">=</span> survey_clean[<span class="st">'year_started'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding 'age' using the provided mapping</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>age_mapping <span class="op">=</span> {<span class="st">'25-29'</span>: <span class="dv">1</span>, <span class="st">'30-34'</span>: <span class="dv">2</span>, <span class="st">'35-39'</span>: <span class="dv">3</span>, <span class="st">'40-44'</span>: <span class="dv">4</span>, <span class="st">'45-49'</span>: <span class="dv">5</span>,</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>               <span class="st">'50-54'</span>: <span class="dv">6</span>, <span class="st">'55-59'</span>: <span class="dv">7</span>, <span class="st">'60-64'</span>: <span class="dv">8</span>, <span class="st">'65+'</span>: <span class="dv">9</span>, <span class="st">'Prefer not to say'</span>: <span class="dv">10</span>}</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'age'</span>] <span class="op">=</span> survey_clean[<span class="st">'age'</span>].<span class="bu">map</span>(age_mapping)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding 'nations' as numeric</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Unique levels in 'nations':</span><span class="ch">\n</span><span class="st">"</span>, survey_clean[<span class="st">'nations'</span>].unique())</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>label_encoder <span class="op">=</span> LabelEncoder()</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'nations'</span>] <span class="op">=</span> label_encoder.fit_transform(survey_clean[<span class="st">'nations'</span>])</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Print updated data types</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Updated Data Types:</span><span class="ch">\n</span><span class="st">"</span>, survey_clean[[<span class="st">'age'</span>, <span class="st">'management'</span>, <span class="st">'website'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>]].dtypes)</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only the relevant columns for the model</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> survey_clean[[<span class="st">'age'</span>, <span class="st">'management'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>]]</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> survey_clean[<span class="st">'website'</span>]</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Check balance of the 'website' variable</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>website_counts <span class="op">=</span> y.value_counts()</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Website Variable Distribution:</span><span class="ch">\n</span><span class="st">"</span>, website_counts)</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Proceed without SMOTE as the dataset is balanced</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Build logistic regression model</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>logreg <span class="op">=</span> LogisticRegression()</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>logreg.fit(X_train, y_train)</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict test set results and calculate accuracy</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> logreg.predict(X_test)</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Model Coefficients</span></span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Model Coefficients:"</span>)</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col, coef <span class="kw">in</span> <span class="bu">zip</span>(X_train.columns, logreg.coef_[<span class="dv">0</span>]):</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>coef<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluation Metrics</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> logreg.score(X_test, y_test)</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>roc_auc <span class="op">=</span> roc_auc_score(y_test, logreg.predict_proba(X_test)[:, <span class="dv">1</span>])</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>conf_matrix <span class="op">=</span> confusion_matrix(y_test, y_pred)</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>class_report <span class="op">=</span> classification_report(y_test, y_pred, zero_division<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Accuracy of logistic regression classifier on test set:'</span>, accuracy)</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">ROC AUC Score:'</span>, roc_auc)</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Confusion Matrix:</span><span class="ch">\n</span><span class="st">'</span>, conf_matrix)</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Classification Report:</span><span class="ch">\n</span><span class="st">'</span>, class_report)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Initial Data Types:
 age             category
management      category
website         category
year_started       Int64
nations         category
dtype: object
Unique levels in 'nations':
 ['England', 'Scotland', 'Wales', 'Mixed', 'Northern Ireland']
Categories (5, object): ['England', 'Mixed', 'Northern Ireland', 'Scotland', 'Wales']
Updated Data Types:
 age             category
management      category
website         category
year_started       int64
nations            int64
dtype: object
Website Variable Distribution:
 website
1    392
0    258
Name: count, dtype: int64

Model Coefficients:
age: -0.06397820148488526
management: 0.6646041957468247
year_started: -0.014330463117446483
nations: -0.30960480135527685

Accuracy of logistic regression classifier on test set: 0.6256410256410256

ROC AUC Score: 0.5727222222222222

Confusion Matrix:
 [[ 17  58]
 [ 15 105]]

Classification Report:
               precision    recall  f1-score   support

           0       0.53      0.23      0.32        75
           1       0.64      0.88      0.74       120

    accuracy                           0.63       195
   macro avg       0.59      0.55      0.53       195
weighted avg       0.60      0.63      0.58       195
</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="nations-and-use-of-technology" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Nations and Use of Technology</h1>
<p>We explored in greater depth the relation between the nations where mindfulness is taught and the use of technology.</p>
<p>We tested whether there is a relationship between the country (or nation) where people are teaching mindfulness and the following behaviors or conditions:</p>
<ul>
<li>Whether they use technology or not.</li>
<li>Whether they teach online.</li>
<li>The number of students they teach online.</li>
</ul>
<p>We conducted Chi-Squared tests and Logistic Regression analyses to test for significant relationships.</p>
<p>We found:</p>
<ul>
<li><p><strong>No significant relationship between the nation where mindfulness is taught and whether the teacher uses technology</strong>: This means that the likelihood of someone using technology is roughly the same, regardless of which country the teach mindfulness in. All nations, except Scotland, tend to use technology less than England. However, none of these differences are statistically significant, meaning we can’t confidently say these differences aren’t due to random chance.</p></li>
<li><p><strong>Significant relationship between the nation where mindfulness is taught and whether the teacher teaches online:</strong> depending on the country where mindfulness is taught, teachers are more likely to teach online than in others.</p></li>
<li><p><strong>Significant relationship between the country where mindfulness is taught and the number of students they teach online</strong>: some mindfulness teachers might be teaching more students online compared to those from other countries.</p></li>
</ul>
<div class="cell" data-execution_count="11">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Chi-squared tests</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>contingency_tables <span class="op">=</span> {</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'technology'</span>: pd.crosstab(survey_clean[<span class="st">'nations'</span>], survey_clean[<span class="st">'technology'</span>]),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'online_teaching'</span>: pd.crosstab(survey_clean[<span class="st">'nations'</span>], survey_clean[<span class="st">'online_teaching'</span>]),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'online_n'</span>: pd.crosstab(survey_clean[<span class="st">'nations'</span>], survey_clean[<span class="st">'online_n'</span>]),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'website'</span>: pd.crosstab(survey_clean[<span class="st">'nations'</span>], survey_clean[<span class="st">'website'</span>])</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display chi-squared test results and contingency tables</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>results_pt <span class="op">=</span> PrettyTable([<span class="st">"Test"</span>, <span class="st">"Chi-Squared Statistic"</span>, <span class="st">"Degrees of Freedom"</span>, <span class="st">"P-Value"</span>])</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> test, table <span class="kw">in</span> contingency_tables.items():</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    chi2_stat, p_val, dof, _ <span class="op">=</span> chi2_contingency(table)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    results_pt.add_row([<span class="ss">f"Nations vs </span><span class="sc">{</span>test<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ss">"</span>, chi2_stat, dof, p_val])</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    table_pt <span class="op">=</span> PrettyTable([<span class="st">'Nation'</span>] <span class="op">+</span> <span class="bu">list</span>(table.columns))</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table.itertuples():</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>        table_pt.add_row([row.Index] <span class="op">+</span> <span class="bu">list</span>(row[<span class="dv">1</span>:]))</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Contingency Table for </span><span class="sc">{</span>test<span class="sc">.</span>capitalize()<span class="sc">}</span><span class="ch">\n</span><span class="sc">{</span>table_pt<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Results of Chi-Squared Tests</span><span class="ch">\n</span><span class="sc">{</span>results_pt<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Logistic Regression for 'website'</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>logistic_model <span class="op">=</span> smf.glm(formula<span class="op">=</span><span class="st">'website ~ nations'</span>, family<span class="op">=</span>sm.families.Binomial(), data<span class="op">=</span>survey_clean).fit()</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>coef_summary <span class="op">=</span> logistic_model.summary2().tables[<span class="dv">1</span>]</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>odds_ratios <span class="op">=</span> coef_summary[<span class="st">'Coef.'</span>].<span class="bu">apply</span>(np.exp)</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>lower_95 <span class="op">=</span> coef_summary[<span class="st">'[0.025'</span>].<span class="bu">apply</span>(np.exp)</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>upper_95 <span class="op">=</span> coef_summary[<span class="st">'0.975]'</span>].<span class="bu">apply</span>(np.exp)</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>results_table <span class="op">=</span> PrettyTable([<span class="st">'Variable'</span>, <span class="st">'Odds Ratio'</span>, <span class="st">'95% CI Lower'</span>, <span class="st">'95% CI Upper'</span>])</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> variable, odds_ratio, ci_lower, ci_upper <span class="kw">in</span> <span class="bu">zip</span>(coef_summary.index, odds_ratios, lower_95, upper_95):</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    results_table.add_row([variable, odds_ratio, ci_lower, ci_upper])</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Logistic Regression Results</span><span class="ch">\n</span><span class="sc">{</span>results_table<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting Odds Ratios</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>plot_data <span class="op">=</span> pd.DataFrame({</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Variable'</span>: coef_summary.index,</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Odds Ratio'</span>: odds_ratios,</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'95% CI Lower'</span>: lower_95,</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">'95% CI Upper'</span>: upper_95</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>sns.pointplot(x<span class="op">=</span><span class="st">'Odds Ratio'</span>, y<span class="op">=</span><span class="st">'Variable'</span>, data<span class="op">=</span>plot_data, join<span class="op">=</span><span class="va">False</span>, capsize<span class="op">=</span><span class="fl">0.1</span>, linestyle<span class="op">=</span><span class="st">'none'</span>)</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">1</span>, linestyle<span class="op">=</span><span class="st">'--'</span>)</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Odds Ratio with 95% CI'</span>)</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Variable'</span>)</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Odds of Website Usage by Nation'</span>)</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Participants count from each nation</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>nation_counts <span class="op">=</span> survey_clean[<span class="st">'nations'</span>].value_counts()</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>nation_counts_table <span class="op">=</span> PrettyTable([<span class="st">"Nation"</span>, <span class="st">"Count"</span>])</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> nation, count <span class="kw">in</span> nation_counts.items():</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>    nation_counts_table.add_row([nation, count])</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Number of Participants from Each Nation</span><span class="ch">\n</span><span class="sc">{</span>nation_counts_table<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Contingency Table for Technology
+------------------+----+-----+
|      Nation      | No | Yes |
+------------------+----+-----+
|     England      | 43 | 446 |
|      Mixed       | 6  |  97 |
| Northern Ireland | 0  |  2  |
|     Scotland     | 9  |  74 |
|      Wales       | 2  |  25 |
+------------------+----+-----+

Contingency Table for Online_teaching
+------------------+-----+-----+
|      Nation      |  No | Yes |
+------------------+-----+-----+
|     England      | 385 | 108 |
|      Mixed       |  46 |  59 |
| Northern Ireland |  2  |  0  |
|     Scotland     |  75 |  10 |
|      Wales       |  23 |  4  |
+------------------+-----+-----+

Contingency Table for Online_n
+------------------+-----+-----+-------+-------+--------+------+---------------+
|      Nation      |  0  | 1-5 | 11-20 | 21-50 | 51-100 | 6-10 | More than 100 |
+------------------+-----+-----+-------+-------+--------+------+---------------+
|     England      | 332 |  50 |   17  |   23  |   23   |  24  |       24      |
|      Mixed       |  37 |  9  |   8   |   12  |   6    |  8   |       25      |
| Northern Ireland |  2  |  0  |   0   |   0   |   0    |  0   |       0       |
|     Scotland     |  66 |  6  |   2   |   0   |   3    |  2   |       6       |
|      Wales       |  17 |  2  |   0   |   1   |   0    |  1   |       6       |
+------------------+-----+-----+-------+-------+--------+------+---------------+

Contingency Table for Website
+------------------+-----+-----+
|      Nation      |  No | Yes |
+------------------+-----+-----+
|     England      | 181 | 269 |
|      Mixed       |  19 |  76 |
| Northern Ireland |  0  |  2  |
|     Scotland     |  42 |  35 |
|      Wales       |  16 |  10 |
+------------------+-----+-----+

Results of Chi-Squared Tests
+----------------------------+-----------------------+--------------------+------------------------+
|            Test            | Chi-Squared Statistic | Degrees of Freedom |        P-Value         |
+----------------------------+-----------------------+--------------------+------------------------+
|   Nations vs Technology    |   1.810025240238794   |         4          |   0.7706476707611541   |
| Nations vs Online_teaching |   66.29094345865377   |         4          | 1.3754273150038289e-13 |
|    Nations vs Online_n     |   84.74428224924569   |         24         | 1.0490895829140457e-08 |
|     Nations vs Website     |   29.039410279028218  |         4          |  7.67459815372819e-06  |
+----------------------------+-----------------------+--------------------+------------------------+

Logistic Regression Results
+-----------------------------+------------------------+--------------------+--------------------+
|           Variable          |       Odds Ratio       |    95% CI Lower    |    95% CI Upper    |
+-----------------------------+------------------------+--------------------+--------------------+
|          Intercept          |   0.6728624535315983   | 0.5573067233250392 | 0.8123782872587159 |
|       nations[T.Mixed]      |  0.37154696132596815   | 0.2171966609781953 | 0.6355859424764325 |
| nations[T.Northern Ireland] | 1.7391763923916894e-09 |        0.0         |        inf         |
|     nations[T.Scotland]     |   1.7834254143646349   | 1.0963579154034913 | 2.9010655771396654 |
|       nations[T.Wales]      |   2.377900552486186    | 1.0554566240889736 | 5.357312568287457  |
+-----------------------------+------------------------+--------------------+--------------------+

Number of Participants from Each Nation
+------------------+-------+
|      Nation      | Count |
+------------------+-------+
|     England      |  493  |
|      Mixed       |  105  |
|     Scotland     |   85  |
|      Wales       |   27  |
| Northern Ireland |   2   |
+------------------+-------+
</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="mapmind_technology_files/figure-html/cell-12-output-2.png" width="724" height="447"></p>
</div>
</div>
<section id="nation-where-mindfulness-is-taught-influences-uses-of-professional-website" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="nation-where-mindfulness-is-taught-influences-uses-of-professional-website"><span class="header-section-number">6.1</span> Nation where mindfulness is taught influences uses of professional website</h2>
<p>We tested for differences in use of a professional website by nation (country).</p>
<p>We found:</p>
<ul>
<li><p><strong>Wales and Scotland show a moderate increase in website usage compared to England, and these increases are statistically significant</strong>: This means that the observed higher website usage in Wales and Scotland is not just due to random chance, but likely reflects a real trend.</p></li>
<li><p><strong>A strong decrease in website usage in the “Mixed” group compared to England, and this decrease is highly significant</strong>: This suggests a robust trend of lesser website usage in this group relative to England.</p></li>
<li><p><strong>A decrease in website usage in Northern Ireland compared to England, but the strength of this decrease is “very low”, and it’s not statistically significant</strong>: we can’t be confident that this observed decrease isn’t just due to random chance.</p></li>
</ul>
<p>In summary, we found that <strong>mindfulness teachers who teach in both Wales and Scotland are using professional websites more than those teaching in England, with those teaching in Wales leading slightly.</strong></p>
<ul>
<li>Those teaching in Wales are <code>2.38</code> times more likely to use websites compared to those in England.</li>
<li>Those teaching in Scotland are <code>1.78</code> times more likely to use websites than those in England.</li>
<li>The odds ratio for Northern Ireland is “nearly 0”, indicating that there’s almost no chance for teachers from Northern Ireland to use a website compared to England. Participants teaching in Northern Ireland are hardly using websites at all, when compared to those teaching in England.</li>
<li>The “Mixed” group also tends to use websites less than those teaching in England, with an odds ratio of <code>0.37</code>.</li>
</ul>
<p>We tested for differences in online teaching by nation (country).</p>
<p>We found:</p>
<ul>
<li><strong>Mindfulness teachers teaching in Scotland seem to be doing more online teaching compared to England, while teachers who teach in a “Mix” of nations do significantly less.</strong> The other nations don’t show significant differences from England in terms of online teaching.</li>
</ul>
</section>
<section id="factors-predicting-online-teaching" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="factors-predicting-online-teaching"><span class="header-section-number">6.2</span> Factors Predicting Online Teaching</h2>
<p>A logistic regression model was trained to predict whether mindfulness teachers engage in online teaching based on several features, including gender, years of teaching experience, whether they hold a management position, and their nationality.</p>
<p>The results show the following positive associations:</p>
<ul>
<li>Holding a management position is positively associated with online teaching (<code>0.625</code>, positive coefficient)</li>
<li>Being male is positively associated with online teaching (<code>0.495</code>, positive coefficient)</li>
<li>Having an “Other” gender is positively associated with online teaching (<code>0.0341</code>, positive coefficient)</li>
<li>Preferring not to specify gender is positively associated with online teaching (<code>0.0113</code>, positive coefficient)</li>
</ul>
<p>The results show the following negative associations:</p>
<ul>
<li>The number of years a teacher has been teaching is negatively associated with online teaching (<code>-0.000033</code>, negative coefficient)</li>
<li>The nation where mindfulness is taught has a negative association with online teaching (<code>-0.258</code>, negative coefficient)</li>
</ul>
<p>The logistic regression model achieved an accuracy of <code>67%</code> on the test set, indicating that it can predict online teaching behavior to some extent. However, it’s important to note that there is room for improvement in terms of precision and recall, especially for class 1 (engaging in online teaching, <code>43%</code>). Further analysis and feature engineering may help improve the model’s performance.</p>
<section id="model-performance-1" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="model-performance-1"><span class="header-section-number">6.2.1</span> Model Performance:</h3>
<ul>
<li>Accuracy of the logistic regression classifier on the test set: 0.67 (67%)</li>
<li>ROC AUC Score: 0.628</li>
<li>Confusion Matrix:
<ul>
<li>True Positives: 30</li>
<li>False Positives: 39</li>
<li>True Negatives: 102</li>
<li>False Negatives: 27</li>
</ul></li>
</ul>
</section>
<section id="classification-report-1" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="classification-report-1"><span class="header-section-number">6.2.2</span> Classification Report:</h3>
<ul>
<li>Precision for class 0 (not engaging in online teaching): 0.79</li>
<li>Recall for class 0: 0.72</li>
<li>F1-score for class 0: 0.76</li>
<li>Precision for class 1 (engaging in online teaching): 0.43</li>
<li>Recall for class 1: 0.53</li>
<li>F1-score for class 1: 0.48</li>
</ul>
<div class="cell" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'management' and 'online_teaching' from Yes/No to 0/1</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'management'</span>] <span class="op">=</span> survey_clean[<span class="st">'management'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'online_teaching'</span>] <span class="op">=</span> survey_clean[<span class="st">'online_teaching'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop NA values only from the variables being tested</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>cols_to_check <span class="op">=</span> [<span class="st">'gender'</span>, <span class="st">'management'</span>, <span class="st">'online_teaching'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>]</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.dropna(subset<span class="op">=</span>cols_to_check)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co"># One-hot encoding for 'gender'</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>gender_encoder <span class="op">=</span> OneHotEncoder(drop<span class="op">=</span><span class="st">'first'</span>, sparse_output<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>gender_encoded <span class="op">=</span> gender_encoder.fit_transform(survey_clean[[<span class="st">'gender'</span>]])</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>gender_encoded_df <span class="op">=</span> pd.DataFrame(gender_encoded, columns<span class="op">=</span>gender_encoder.get_feature_names_out([<span class="st">'gender'</span>]))</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the encoded dataframe with the original dataframe</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.reset_index(drop<span class="op">=</span><span class="va">True</span>)  <span class="co"># Resetting index to ensure proper row alignment</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.concat([survey_clean, gender_encoded_df], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding 'nations' as numeric</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>label_encoder <span class="op">=</span> LabelEncoder()</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'nations'</span>] <span class="op">=</span> label_encoder.fit_transform(survey_clean[<span class="st">'nations'</span>])</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'year_started' to integer</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'year_started'</span>] <span class="op">=</span> survey_clean[<span class="st">'year_started'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only the relevant columns for the model</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>feature_cols <span class="op">=</span> [<span class="st">'management'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>] <span class="op">+</span> <span class="bu">list</span>(gender_encoded_df.columns)</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> survey_clean[feature_cols]</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> survey_clean[<span class="st">'online_teaching'</span>]</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting the dataset into training and test sets</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Applying SMOTE to the training set</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="co"># SMOTE - Synthetic Minority Over-sampling Technique</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a><span class="co"># https://imbalanced-learn.org/stable/references/generated/imblearn.over_sampling.SMOTE.html</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>smote <span class="op">=</span> SMOTE(random_state<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>X_train_smote, y_train_smote <span class="op">=</span> smote.fit_resample(X_train, y_train)</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop rows with NaN values from X_train_smote</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>X_train_smote <span class="op">=</span> X_train_smote.dropna()</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>y_train_smote <span class="op">=</span> y_train_smote.loc[X_train_smote.index]  <span class="co"># Update y_train_smote accordingly</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Build logistic regression model</span></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>logreg <span class="op">=</span> LogisticRegression()</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>logreg.fit(X_train_smote, y_train_smote)</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict test set results and calculate accuracy</span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> logreg.predict(X_test)</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Model Coefficients</span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Model Coefficients:"</span>)</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col, coef <span class="kw">in</span> <span class="bu">zip</span>(X_train_smote.columns, logreg.coef_[<span class="dv">0</span>]):</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>coef<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluation Metrics</span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> logreg.score(X_test, y_test)</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>roc_auc <span class="op">=</span> roc_auc_score(y_test, logreg.predict_proba(X_test)[:, <span class="dv">1</span>])</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>conf_matrix <span class="op">=</span> confusion_matrix(y_test, y_pred)</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>class_report <span class="op">=</span> classification_report(y_test, y_pred, zero_division<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Accuracy of logistic regression classifier on test set:'</span>, accuracy)</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">ROC AUC Score:'</span>, roc_auc)</span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Confusion Matrix:</span><span class="ch">\n</span><span class="st">'</span>, conf_matrix)</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Classification Report:</span><span class="ch">\n</span><span class="st">'</span>, class_report)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Model Coefficients:
management: 0.6481850676166716
year_started: -9.213443896792867e-05
nations: -0.3503226262337142
gender_Male: 0.27240590910783763
gender_Other, please specify: 0.5861393717995113
gender_Prefer not to say: -0.27421669668555293

Accuracy of logistic regression classifier on test set: 0.6363636363636364

ROC AUC Score: 0.5477168097548837

Confusion Matrix:
 [[107  34]
 [ 38  19]]

Classification Report:
               precision    recall  f1-score   support

           0       0.74      0.76      0.75       141
           1       0.36      0.33      0.35        57

    accuracy                           0.64       198
   macro avg       0.55      0.55      0.55       198
weighted avg       0.63      0.64      0.63       198
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the survey dataframe</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.read_pickle(<span class="st">'data/tidied_survey.pkl'</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'management' and 'online_teaching' from Yes/No to 0/1</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'management'</span>] <span class="op">=</span> survey_clean[<span class="st">'management'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'online_teaching'</span>] <span class="op">=</span> survey_clean[<span class="st">'online_teaching'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span>: <span class="dv">1</span>, <span class="st">'No'</span>: <span class="dv">0</span>})</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop NA values only from the variables being tested</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>cols_to_check <span class="op">=</span> [<span class="st">'gender'</span>, <span class="st">'management'</span>, <span class="st">'online_teaching'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>]</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.dropna(subset<span class="op">=</span>cols_to_check)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co"># One-hot encoding for 'gender'</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>gender_encoder <span class="op">=</span> OneHotEncoder(drop<span class="op">=</span><span class="st">'first'</span>, sparse_output<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>gender_encoded <span class="op">=</span> gender_encoder.fit_transform(survey_clean[[<span class="st">'gender'</span>]])</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>gender_encoded_df <span class="op">=</span> pd.DataFrame(gender_encoded, columns<span class="op">=</span>gender_encoder.get_feature_names_out([<span class="st">'gender'</span>]))</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the encoded dataframe with the original dataframe</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> survey_clean.reset_index(drop<span class="op">=</span><span class="va">True</span>)  <span class="co"># Resetting index to ensure proper row alignment</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>survey_clean <span class="op">=</span> pd.concat([survey_clean, gender_encoded_df], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding 'nations' as numeric</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>label_encoder <span class="op">=</span> LabelEncoder()</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'nations'</span>] <span class="op">=</span> label_encoder.fit_transform(survey_clean[<span class="st">'nations'</span>])</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'year_started' to integer</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>survey_clean[<span class="st">'year_started'</span>] <span class="op">=</span> survey_clean[<span class="st">'year_started'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only the relevant columns for the model</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>feature_cols <span class="op">=</span> [<span class="st">'management'</span>, <span class="st">'year_started'</span>, <span class="st">'nations'</span>] <span class="op">+</span> <span class="bu">list</span>(gender_encoded_df.columns)</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> survey_clean[feature_cols]</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> survey_clean[<span class="st">'online_teaching'</span>]</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting the dataset into training and test sets</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Handling NaN values using imputation</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>imputer <span class="op">=</span> SimpleImputer(strategy<span class="op">=</span><span class="st">'mean'</span>)  <span class="co"># 'median' or 'most_frequent' is also possible</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>X_train_imputed <span class="op">=</span> imputer.fit_transform(X_train)</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>X_test_imputed <span class="op">=</span> imputer.transform(X_test)</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Applying SMOTE to the imputed training set</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>smote <span class="op">=</span> SMOTE(random_state<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>X_train_smote, y_train_smote <span class="op">=</span> smote.fit_resample(X_train_imputed, y_train)</span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Build logistic regression model</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>logreg <span class="op">=</span> LogisticRegression()</span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>logreg.fit(X_train_smote, y_train_smote)</span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict test set results and calculate accuracy</span></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> logreg.predict(X_test_imputed)</span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Model Coefficients</span></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Model Coefficients:"</span>)</span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col, coef <span class="kw">in</span> <span class="bu">zip</span>(X_train.columns, logreg.coef_[<span class="dv">0</span>]):</span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>coef<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluation Metrics</span></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a>accuracy <span class="op">=</span> logreg.score(X_test_imputed, y_test)</span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a>roc_auc <span class="op">=</span> roc_auc_score(y_test, logreg.predict_proba(X_test_imputed)[:, <span class="dv">1</span>])</span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>conf_matrix <span class="op">=</span> confusion_matrix(y_test, y_pred)</span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a>class_report <span class="op">=</span> classification_report(y_test, y_pred, zero_division<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Accuracy of logistic regression classifier on test set:'</span>, accuracy)</span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">ROC AUC Score:'</span>, roc_auc)</span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Confusion Matrix:</span><span class="ch">\n</span><span class="st">'</span>, conf_matrix)</span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Classification Report:</span><span class="ch">\n</span><span class="st">'</span>, class_report)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Model Coefficients:
management: 0.9471648623810215
year_started: -0.000249900349181266
nations: -0.2560050081223515
gender_Male: 0.33838255865305117
gender_Other, please specify: 0.714905757478076
gender_Prefer not to say: -0.06276762576369525

Accuracy of logistic regression classifier on test set: 0.6717171717171717

ROC AUC Score: 0.6483762597984322

Confusion Matrix:
 [[101  40]
 [ 25  32]]

Classification Report:
               precision    recall  f1-score   support

           0       0.80      0.72      0.76       141
           1       0.44      0.56      0.50        57

    accuracy                           0.67       198
   macro avg       0.62      0.64      0.63       198
weighted avg       0.70      0.67      0.68       198
</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Conclusion</h1>
<p>By putting people at the heart of research on technology, we have revealed hidden patterns in the data, the human stories behind the visualisations, and produced valuable insights which can inform how the world could change.</p>
<p>The findings suggest significant relationships between demographic and social factors and mindfulness teachers’ technology usage, use of a professional website, and online teaching. This is crucial for understanding diverse needs in the digital landscape of mindfulness and wellness teaching.</p>
<p>We made some unexpected discoveries, finding statistically significant patterns.</p>
<p><strong>Age</strong> plays a contradictory role in this picture, where participants were relatively “early starters” to take advantage of the mindfulness trend, whilst also being vulnerable to a potentially widening digital divide.</p>
<p>Website use and online teaching were significantly related to U.K. nation state contexts. Odds were more likely teachers would have professional websites and engage in online teaching in Wales and Scotland compared to England and Northern Ireland.</p>
<p>Yet, this is early days, and there is more analysis and research to be done.</p>
<p>We need to be careful when interpreting the findings of our survey. While likely representing the majority of mindfulness teachers who were active during 2017-2021, we used a convenience sample, with voluntary participation. This design is potentially subject to a self-selection bias, where those who responded might have different characteristics to those who did not reply. Our sample might not be representative of the wider U.K. population. In future research, we could situate our survey sample in relation to the U.K. population as a whole by integrating census data. This could be especially interesting for the geographical mapping.</p>
<p>How did mindfulness teachers weather the storm of the pandemic? We could investigate participants’ experiences of pivoting to digital work during COVID-19 pandemic.</p>
<p>We could also pay more in-depth attention the experiences of participants in the minority of our sample: people of colour, of diverse sexualities, with working class backgrounds. For example, our survey suggested that those reporting “Other” genders than male or female were potentially more likely to engage in online teaching and teach more students online. But our sample size was too small to draw any meaningful conclusions. We could explore these participants’ experiences in greater depth.</p>
<p>By putting people at the heart of the data revolution, we can reveal previously hidden inter-sectional patterns. In this case study, we showed how digital divides might result from differences in participants according to social structure - age, gender, ethnicity, social class.</p>
<p>We can use the tools of free and open science to make the findings of quantitative research, data analysis, and data science broadly accessible to a wide audience.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>